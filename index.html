<!doctype html>
<html lang="zh-Hant">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>åœ‹å­—æ›¸å¯«æª¢æ¸¬ï¼ˆå­—é »1â€“2500ç‰ˆï¼‰</title>
<style>
  body{font-family:system-ui,-apple-system,"Noto Sans TC",sans-serif; margin:16px; line-height:1.5}
  .row{display:flex; flex-wrap:wrap; gap:12px; align-items:center}
  select,button,input{font-size:16px; padding:8px 10px}
  button{cursor:pointer}
  .card{border:1px solid #ddd; border-radius:12px; padding:14px; margin-top:12px}
  .big{font-size:26px; font-weight:700}
  .muted{color:#666}
  #canvas{border:1px solid #333; touch-action:none; border-radius:10px; background:#fff}
  .grid{display:grid; grid-template-columns:1fr; gap:12px}
  @media(min-width:900px){.grid{grid-template-columns: 1fr 1fr}}
  .ok{color:#0a7} .bad{color:#c33}
  .pill{display:inline-block; padding:2px 10px; border:1px solid #ddd; border-radius:999px; font-size:12px; margin-left:6px}
  .hr{border-top:1px dashed #ddd; margin:10px 0}
  .warn{background:#fff7e6; border:1px solid #ffd59a; padding:10px 12px; border-radius:10px}
</style>
</head>
<body>
<h2>åœ‹å­—æ›¸å¯«æª¢æ¸¬ï¼ˆå­¸ç”Ÿç‰ˆï¼‰<span class="pill">å‡ºé¡Œå­—åº«é™åˆ¶ï¼šå­—é » 1â€“2500</span></h2>

<div class="warn">
  é€™å€‹ç‰ˆæœ¬æœƒæŠŠã€Œå¯å‡ºé¡Œçš„å­—ã€é™åˆ¶åœ¨ä½ æä¾›çš„ã€Šæ•™è‚²éƒ¨å­—åº«(1â€“5021)ã€‹ä¸­ <b>å­—é » 1â€“2500</b> ç¯„åœã€‚<br/>
  å­¸ç”Ÿçœ‹ä¸åˆ°ç­”æ¡ˆï¼Œåªçœ‹åˆ°ã€Œèªè©ç·šç´¢ã€èˆ‡ã€Œé€ å¥ç·šç´¢ï¼ˆæŒ–ç©ºï¼‰ã€ã€‚
</div>

<div class="card">
  <div class="row">
    <label>å§“åï¼š<input id="studentName" placeholder="è«‹è¼¸å…¥å§“å" style="width:180px"/></label>
    <label>å¹´ç´šï¼š
      <select id="gradeSel">
        <option value="G1">ä¸€å¹´ç´š</option>
        <option value="G2">äºŒå¹´ç´š</option>
        <option value="G3">ä¸‰å¹´ç´š</option>
        <option value="G4">å››å¹´ç´š</option>
        <option value="G5">äº”å¹´ç´š</option>
        <option value="G6">å…­å¹´ç´š</option>
        <option value="ALL">å…¨éƒ¨æ··åˆ</option>
      </select>
    </label>
    <label>é¡Œæ•¸ï¼š
      <select id="countSel">
        <option>20</option><option>15</option><option>10</option>
      </select>
    </label>
    <button id="startBtn">é–‹å§‹æ¸¬é©—</button>
    <button id="clearBtn" title="æ¸…é™¤æœ¬æ©Ÿç´€éŒ„">æ¸…é™¤æœ¬æ©Ÿç´€éŒ„</button>
  </div>
  <div class="muted" id="statusLine" style="margin-top:8px;">å°šæœªé–‹å§‹</div>
</div>

<div class="grid">
  <div class="card">
    <div class="row" style="justify-content:space-between">
      <div>
        <div class="muted">é¡Œç›® <span id="qIndex">0</span>/<span id="qTotal">0</span></div>
        <div class="big" id="clueWord"></div>
      </div>
      <div class="row">
        <button id="speakBtn" title="å”¸å‡ºèªè©ç·šç´¢ï¼ˆå®Œæ•´ï¼‰">ğŸ”Š å¿µèªè©ç·šç´¢</button>
<button id="speakTargetBtn" title="å”¸å‡ºé¡Œç›®å­—">ğŸ”Š å¿µé¡Œç›®å­—</button>
<button id="speakSentenceBtn" title="å”¸é€ å¥ç·šç´¢ï¼ˆæŒ–ç©ºï¼‰">ğŸ—£ å¿µé€ å¥ç·šç´¢</button>
        <button id="resetCanvasBtn">é‡å¯«</button>
      </div>
    </div>
    <div class="hr"></div>
    <div class="muted">é€ å¥ç·šç´¢ï¼ˆå·²æŒ–ç©ºï¼‰ï¼š</div>
    <div id="clueSentence" style="font-size:18px; margin-top:6px;"></div>

    <div class="hr"></div>
    <div class="muted">è«‹åœ¨ä¸‹æ–¹ç©ºç™½è™•å¯«å‡ºä½ èªç‚ºçš„é‚£å€‹å­—ï¼š</div>
    <div style="margin-top:8px;">
      <canvas id="canvas" width="520" height="520"></canvas>
    </div>

    <div class="row" style="margin-top:10px;">
      <button id="submitBtn">é€å‡º</button>
      <div id="feedback" class="muted"></div>
    </div>
  </div>

  <div class="card">
    <div class="row" style="justify-content:space-between">
      <div>
        <div class="big">è€å¸«å›é¥‹è³‡æ–™ï¼ˆæœ¬æ©Ÿï¼‰</div>
        <div class="muted">å¯ä¸‹è¼‰ CSV äº¤çµ¦è€å¸«æ•´ç†</div>
      </div>
      <button id="downloadBtn">ä¸‹è¼‰ CSV</button>
    </div>
    <div class="hr"></div>
    <div id="teacherBox" class="muted">å°šç„¡ç´€éŒ„</div>
  </div>
</div>

<script>

function speakText(text, rate=1){
  if(!('speechSynthesis' in window)){ alert('æ­¤è£ç½®ä¸æ”¯æ´èªéŸ³'); return; }
  const u = new SpeechSynthesisUtterance(text);
  u.lang = 'zh-TW';
  u.rate = rate;
  window.speechSynthesis.cancel();
  window.speechSynthesis.speak(u);
}


/** å‡ºé¡Œç¯„åœé™åˆ¶ï¼šå­—é » 1â€“2500ï¼ˆä¾ä½ ä¸Šå‚³çš„æ•™è‚²éƒ¨å­—åº« PDFï¼‰ */
const ALLOWED_FREQ_1_2500 = new Set("çš„ä¸€æ˜¯äº†ä¸æˆ‘æœ‰åœ¨äººä¾†å¤§ä¸Šé€™åˆ°å€‘å€‹å°ä½ å­ä»–ä»¥å¥½ç‚ºå°±ç”Ÿè¦èªªä¸­å¤©å’Œæ™‚å¯éº¼çœ‹æœƒåœ°å®¶ä¸‹å‡ºå­¸è‘—åœ‹å¾—ä¹Ÿç”¨å¤šæˆå¹´è£¡éå»èƒ½å¾Œé•·éƒ½åˆ†å¾ˆè€å‹•èµ·ç‰©å…¬æ°´ä»€å¿ƒæŠŠé¢ä½œæ–¹é‚£åæƒ³æ¨£è‡ªæ‰€ç„¶å¦‚ä¸‰ç™¼äº‹å°æ²’é‚„åŒé«˜é“å¸«æ°£ç¨®è€Œå›äºŒé–‹æ–¼é ­ç¾åšæ–‡åª½é«”äº›æœ€å¯«åˆå› å‰å¾æ³•æ˜è¡Œå•æ„èŠ±æ—¥å½¢çŸ¥å››å¿«ä¹‹å¸¸ç¶“æ•™æ´»å¤ªå…©æœæœ¬å…’é»ç•¶ç¾æ ¡é€²ç­‰ä½†æ¨‚éƒ¨å†æ•¸åƒåªåŠ›è‰²å¤–çœŸå„å±±é¡Œè¡¨è«‹èª²æœˆå‘¢ç¬¬ä½å®šæ¯”èˆ‡å­—èº«ç›¸é–“æ‰‹ç‹ä¸»è¥¿é›»äº”è©±è¦‹æ‰ä½¿åèµ°æ‰“è²é‚Šå°‡æµ·çµ¦ç™½æ­£å¹¾æ„›éŸ³ä¸¦åŠ æ€å°‘æ–°åƒç¿’å¥¹è®Šè¢«å…‰æƒ…é‡æˆ–ç”±è¨˜è¬çˆ¸æ°‘è¦ªè½å…¨åŒ–ç©ºå‘å…¶å—å¯¦æ¯é¢¨æœ›åˆ¥åŸç•«æ˜Ÿå€™æ¬¡å£å…ˆç­”åº¦å“ªæ±å¹³å®ƒç„¡å·¥çŸ³åˆæ­¤åŠå…ƒå·²æ¯ç‰¹å…­å·±å¥³çƒé¦¬è®“å®‰å¸¶æ„Ÿåœ–é¾æ›¸å«æ¨¹å‹é¡ç†æ‚¨è·¯æ”¾è¦ºä»£å…§æ‡‰å¼µä½é‡ç«‹æ›´è¨±å–œé—œæ©Ÿæ­¡ä¾¿å®Œä¸–è§£é€ åˆ©æµè™•ç®—æœŸè‡ºå¼Ÿè»Šå…¥åŒ—æ¥­çœ¼ä¾‹æ‰¾ç™¾ç›´ç…§æœ‹å¼ç¯€æ¥ç›®è®€æŒ‡ç¥é£›éå¸Œä¸ƒæ¢å§é™½é£Ÿå—å…«çµé–€å±•é€£ä»Šæ²³é€šå®¹è§€ç©èˆˆå¥å‚³èªéš»è©æ€§å»æœ¨è¿‘è¬é‡‘é¸æ¸…ç«ä¿¡å¡«å­©è€…çˆ¶é­šå—è™Ÿäº®æ”¶æ—ç†±å“ç­æ–¯ç‰ ç¨±è‚‰è…¦é›£å¿µç·šæ€ç‰‡èªæ•…å¸‚è§’ç¶²å ´æè‰å•Šé ä¹è·Ÿéº—å€ç¬‘è¡“å½±æ»¿é”ä¸”å»ºè¾¦æ—©åœ’ç®¡å¾€æ³¨é™¤é»ƒæ­»ç¤ºæ®µç§‘ä¿å™¨æœç´…ç•™æ›²ä½•å‘³å–®ç•Œç«™å‘½åŒ…å‘Šç”¢å°äº¤ç·´æ‹¿åœŸè©²æ‹‰é‹ç¾©å¤å…±æ­Œè‚²å¥‡è¨ˆç£å¸ƒç¥åˆ—é³¥åŠŸæ±‚åŸå¯¶å ±ç´„æ”¹æ·±è¼ƒçˆ¾è±¡ç¦å¹«æ ¼è‘‰ç´°è¨­ä»»å§‹æ™šå“ˆè‹¦æ˜¥è­˜ä¹…æ­¥åƒå¼·æº«è·‘è½è‡³è¼•ç©å‰‡é›¨åƒæ ¹æ•´å·´çµ±è½‰é‡Œç¸½é¦–éŒ¢å…·å“¥ç²¾è©¦é›–è€ƒé›¢å£«è¨€åº•è¯å¤«é˜¿è—æ¼”å‘€ä»¶é’é€çµ„çš®åŠå¤œç´šéŠèˆ‰åè…³åˆ»ç­†ç«¥æ€•éª¨ç¸£ç¨‹å¿™å®¤èŸ²å…‹è·³å°é„‰è«–å¨˜æ—èª°å‡æ€ªæ¤ç’°æ–™é»‘éŸ¿è£ç‰›è‹±ç¦®ç´€å”±è³‡å€’æ’è¶Šæœå‚™èˆ¹åç—…éµè¦–å²å¦¹æ¿ç´™è©©ç‹€è¾²è¶•å•¦éŒ¯æˆ¿å¤ æˆ²é¤Šäºå“¡æç•¢æ–·å‹é›„è¡£æ¶ˆå¥¶å·¦æå¡Šåº§å°ºçµ‚ç‡ˆç·Šåœ˜å±¤æ²¹é™¢å¯ŸåŠ©æº–æ±ºä¼¯å‘¨å¤±æ˜“ä¾å¦³å¸æ”¿åœè¨´ç¾…å¿…å©†ç¶ å³ä»¤æ™¯é›²è²·è»ä¼¼è­·å¼•é©—ç”²æ‰å‰›åœ“å–æŸ¥åŸºèª¿éš¨å®³å¢ƒé‡åº·æ¯ç«¹ç¾¤æˆ°ç½®ç‹—æ¥µæ¨æ¼¸å±…å¾·çµ²è¶³å†·é¤¨å³å‚·è£½è‡‰é›†ç¤¾å¡æ­²èˆè³½é¦™ç´æ…¢ç‰™æ›¾æ²™ç©¿ç¡éœ€èˆ¬è˜­æ­·è³ªåˆ‡çˆºæ´²å­”çªæºéœ‡éœå……éŒ„åˆè¬›ç³»æ€¥è—é€Ÿå‡æŒè¨çŸ­å®¢è¿·é †ç±³å¦ä½å¸å‘¼å¯Œè²´çºŒå­˜æ…‹é©šæ´‹å‹™å¥è²»ç‰èƒŒç¶­å§Šç›¡å»£ä»™å‰µæ“šç©¶å½©å„ªè¾›å–”è£ä¾›æ°¸ç”°å®˜å¾…ç”·ä¿®é›™é™³æ¸¬æ¨™é¼“æ¯›æ¡ˆé£¯é‡æ—…å«ç«Ÿé ˜é¡†ç ”å±¬ææ‹œé©å–„æå¢é çœ¾ç›å²©å¯†é†«è¶£å§‘é™„åŠ‡ç›¤æ²»ä¹¾é …ç¢ºæ‘æ­¦æ³¢æ•‘çœå°ˆé¡§å°æ‘©å¯’è—é›å±‹å˜´æœªæ¨¡æŠ€é¼ è¡€ä¼‘å°„å–é™¸é˜é…æ¹–å…µå€è­°è²æ—æ´é›ªè³ç´ å¿˜ç°¡ç«¯å­«åœæ•¬æ–è²“éšŠèœè—¥é¡¯æœµå•†ç²çš‡è¿éœ²ä»å¹¸é¡å“‡çµ•æ”¯åˆ¶è‰¯éŠ€å£å®®å¿½å¤å¾©æ­¢æŠ•æ¢å†¬çˆ¬å¥ä¿‚åšä¹™å®ˆå±€ä¹æ¶²æ§‹éš›é ˆç¯„é ‚æ®ºç¨åˆé€æ¼¢é¬¼è›‹ç‡’å“­å…”è‹¥ç ´å·®é¡ç¹”å°¾è¦å£ç¯‰å¹é…’ç—›é˜²å‹çæ„ˆæ›æ¼‚å²¸æ˜¨å€«é‡æ±Ÿå¾®å¹¼éƒæ¦®æ­è¯æ‡·é¡˜äº’ç¾Šæ¸¸æ´¾æ¢…è“‹å£“è­¦ä¸ç²‰æ“”å…å·è±å‰ç¹¼å­£æ–½äº‚è¢‹çª—æ–¤ä»½åŠªå³¶æ¸›é­”å·¨ä»”è² è¿½éšªåŠ‰è¡›é è¼ªéˆæ¥šå”é½’æ´—æ•¢ç”šæ¡ƒé™£ç« æ•£æ¨“æ‹åºœç¬¦ä»‹åº­ç¥–ä¼¸æŒ‰é¬§åˆ€å¦ç°æ£®æ®å½ˆç§‹å°‹ç·¨ç‡Ÿå …ç§»è«‡æ“Šè³£æš–çˆ­ç´›ç››æ›¿é¤å¿—è™æ¡Œå¤¢è€³å°¼å ¡æ®¼æ¯å ‚åœˆå‰åº—ä¹˜å€¼çƒˆç•°è–æš—çåš´é®éº»å…„çŒ´å¿æ¯’æ‚„ç§¦æ¡åºŠèŒ¶æ»‘èé½Šå“¦é›…ç®±å †ç†Ÿæ²‰åƒ¹æ“å§å…¸åºè‚¯ä¿—é–ƒç¥¨é “å¥®å£¯å”é†’ä½›è±†å¹¹è±¬å¶è›‡å‹¢æ‹¬ç´¹é¤˜å¾µå·§æŸé‡‹æ¬£å‹‡ç‡å¯¬æš´å¦™ç½ç´¢è²¬ç´ç“¶é å„€æ‡‚è‡¨æ©«ä¼´ç å†°é™é®®é›œæ™ºé›•æ¿Ÿæ³¥åš‡å½æ³¡è»Ÿå‹è·æ¶æ¿€æŠ±ç§€æ³æŠ“å©šè¶…åˆºææƒ¡å°¤æˆ¶å³é€ƒæ°§å›°è¿°æµªå¨æŸ“è¡—ç¯‡ç¸®è°éš”éŠ…å·å°è‡´è²¼ç®­æ©‹å±å­é™æºªé‹å§“çƒç‰†çŒœæ·¡æ•µå›ºæƒé€å‹¤æ£’è¼‰æ‚Ÿæ•ˆæ™®å§†æ—¢æ›ç›’æƒœç¡¬æ’­æ…¶å®œå¦»çµèˆŠåå¸ç¼ºæ·šè­‰è“®è˜‡äº«è²¡å°Šèº²æ»´ç¿»å¯„éç¹æ•ç™»ç…©ç“œå¼„æŠ½æ·¨çª®é‹¼ä¹³åšè† æ¬Šè®šå‚‘é«®è¦½å‡å‰ªç¦æ±½è‚¥é›·ç‹¼åƒ…æ‘¸é¼»ç³–é»˜å©¦é¹¿æ± èƒ¡å‰©èŠé¿æŠ˜å†’å¥—ä»˜ç¹©å®‡é©æ¥Šèˆ’å”æ‹›æ•—è’™å„„å»³ç…è‚Œæ”»è¨Šé€€å¾’å¹£ä½³ç‰ˆæ ¸ç²—è…¿å–Šè£œè¾¨ç¹åŸŸæ»¾ç»æ˜†æ´›å’ªå¼±é™°è‰æº¶æ»…é˜»è¨ªæ¹¯ç£éºå®—å† ç´‹éš†æ½”éƒµå°šç²’æ–œè£‚æ²¿èª ç¢¼æ…§æ“ºå´å€ŸæŒå¥§ç¨»ä¸¹æ¾æŠ¬æšæ½®çŠ¯å‘ˆæŒ‘èƒè²¨è„«å˜›éˆ´è—‰æœ«å›è¡é­¯éµå°–æŸæ©èƒ¸è²Œè‡Ÿè§¸ä»å‚å¨ƒæ®Šæ¦‚é–±è‚šç¥¥é–’è’¸ç’ƒæ“¦ä¸ŸæŸ±å•Ÿæ£‰èª•æ¿ƒé¹½çˆ›æ†¶ç”˜æ‚²èŠè’‚ç»é¾œæª¢åµèŠ¬å¾‘ç›Šç…™éšç·£æ­¸å®™è‚¡æ‰æ—‹é³³è¤‡é„°ç³•å‹µç‡ƒäº¡è‡£è°·å¾‹é™¶è«è†€ç–‘èšç¸¾ç¹ªé£„æ˜æ¶¼ç´¯é€”æ··æ¸¯ç‘ªé‹’èéš±é€±é…¸ç å·¢èŠå¡æµ®è¼¸å€æŸ”æ¬é¤“è¶ç¸æ±—æ›¹æ¯«æ£µå—¯æˆ´é·¹ç¢ç±ƒå»¶æŠ—æ­æ’å¡”é´¨ä»¿åˆ¤ç¿…æ„‰æ™¨è›™æ…ˆè€•ç­‹æ¼ç‡•é¨èŠ³åè¨“æ•˜é™ªæš‘å¢¨ç‡­è‡‚åŒ¹ä½©è¿ªç§’è©•å¡‘è¼”ç£¨èºè·çŠèª¤å¥”æ‹”ææœ—æ¢¯é­é¬†è˜¿â—‹å¥‰å±†éœ§å®‹æ¨ç¢°ç§ç‚®ç¤¦å‡¡è¨—ç•¥æ¡é—Šå‰¯è„ˆå˜‰å» è¡¡å·å¤®ä¸ˆå½¼é¬¥é›€ç†Šå»Ÿè¶™æ‰¿æ‰‡å˜†æ†å™´å›‰ç©´æ°æ‰˜ä½ˆåŸ‹æŸ´å¾å£ºç•ªç½ªç‚è™›è””è³´è¬æŒ–éº¥å¡æ¤…ç¸«æ“ ç©«å“²é£½æ›‰é ¸èŸ»åå¦®æ”è–èœœæ™¶ç´«é£¾çŒ©å»¢æ©¡é‚€é»å¸½å­Ÿæ›†åº«é›¶å¯§èŠ½å¢è¦†äº¬è€è…¹å¤•æ“‡èƒƒç­’è»¸æ¼«æƒ é‘½ç“¦æ†ç¥­è·¡èŸ¹çŒå¦–å’¬ç”œæ­çŸ®æ£²ç­–æ…Œç›£ç¾½å¿ è«¸è€¶çŒ›ææ®–åŸƒè†šæ“äº•å“ºèœ‚èˆ…æ‡¶å¢“é‰›åŠè•­ç¿ æ²–è²§å«ç¶±è”¡è³“æ’çˆµéºµè€€åµå¹½ç¿è²«æ•²ç·©å£¤é¨™è…¸ä¾è²¢ç–è©³æŸ³ä¼™å®å‘µå§”ç‰§èˆªå‹’å¹…ç‰Œæ¬„å å¯ºä¼Šåˆ·è¨‚ä¾µæ²å‚»è³¢å‘†èˆæ™´æ¶ç¿”ç‘èŒåŠƒå¹•æ’’è Ÿç± æ–—èšŠé–‰é²èƒè˜‹ä¸™æœ±å”‰å€†è¿´æ——ç½µé³´è«¾é¨°æ€’æˆæ…®é·é¤…éšœè¾­ä¿ƒå¹»åç§éƒŠæ±å¾ªå¥ªè¼©è¦æ‰åµå»šç¸±æ–‘æ¸¡å¡µæ£„é£²ç–Šå†Šä¿Šå§¿å“©æ¦•æ§å‹¸é­ä»°æ‹–æŒ¯ç¾å¡—ç¶¿å£½æ†‘èººé›Œç¿¼é¡çˆ†æœå’¦æ¨èŠæ…£è¼ç°¿èºæ®˜ä¼ç«¿æ³‰å¸­å·¡ç…¤æº¼è˜†åŒ æ‹¼è‚ºéª¼æ´ªé‡˜å‡±å²æ¥è–„èˆŒå¤¾è‚©æ¯å¸¥ç¨€æŸæ®¿æ™ƒæ¸¾åŸ¹å˜¿è·æ“´å‚˜å‚²ç‹å¨¥å³½æ•å–»èºäºæ±™åˆŠå§œå®£å±æ·ºå´‡æ½‘ç…®è³€è±ªè¸çµ¡è­œè¹Ÿè‰¾ä¹ƒå­¤è™¹è©¹å˜—æ˜ å–²æ‚¶æ³³è’è…°é„­è¹¤çˆç«¶å‹‰æ¾³æ‹¾é«’ç¬¨è…”ç¨ç¢³å˜»æ’²æ¾¤å±ç‰½äº¦å’šä¹–ä¾¯è²åª’è­¯å‹æ°çš†è‡­æ£‹æ•ç„¦æœæ¬¾ç›œå—¨é»å„˜æ©˜ç©©ç‰¢æ‚£æŠµå–ªæ¡¶éƒ­èƒ–å—šæ•¦ç½°æ¼¿æ“¾ç˜é½¡ä¼ä¸˜æ‰®æ‰¶æ·‘è©¢ç²½å«¦æ¼†æ’¿é»¨è­½çˆªå‘‚çœ‰èŒ‚æ¢ç‹¸å‡ç´”ç–¾ç“·ç¨šè’¼éŸ“é »å±å¦ç–¼è„–ç¬›è•ç©€å‡æ¾†è´éŒ¦è—¤æ—¦å³°æ‚…é™·æ¢¨ç‘Ÿå­è…æ’¥æ…•ç™‚éµè†½ä¸²æ‹‡æ³Šæå¨œæ¢°æ£šç¢—é§›èç¤ç±é¬ç”³å±ˆå»·å²³ç›†ç¾¿æ¡‚å‰²éŸ»æ¬²æ„šè»»æºœå‚¾ç³å¾¹è‘£è¼›ç³Ÿå–‚äºˆæ‘˜ç‹‚èŒƒç›¼å½¹ç¿°è•‰éµè¥²ç¤™å®ç®ç‹ æ·»å–¬èœ¥è‹—ç˜¦è¸¢æ‡¸åŒ†ä¼æ‰¹å¤¥ç¥ˆèŒ„ç§˜å¸³é‡‡æ½›å¶¼ç°§é‹ç¹¡è´Šæ…°æ†²é‚¦é§•å“€è¬‚æ¢çª©æ¼ é†‰è†œçŠ¬æŠ¹æ¡¿è¶å¸†å¼—åœ¾åƒç‚¸æ³Œç¥•å•„æƒ±çªæ»”ç¢§èªŒé—†çŒ¶ç³§è„Šå”¯çˆ½æ§è¨è¾¯æ…˜éŠ³åŠ‘è¬™é´‰é±·å¬å¹²å¼“ç›ˆç–²åŸ·è››ç­·è«’èŠ’å°¿ç‰²èŒ²èæ„è·¨æ­‰çœè³ºé¾ç½ä»‡å·«æˆ’è¿”å§¨è‡¥çœ æ›¼è³¼æ‚‰æ¬ºé‰¤æ¾ç—•è¹ˆè–©æ’å·¾åˆ’å¥´ç²è¿«èŒ«å ªå¡˜æºè£é ‘æš¢å“èµ«é®ç³ŠéŠ˜é­åŠå‡¸å’è‚¢å®´å”·çˆ¹çŒ¿ç¶è’æš«é¢±æ¾±é¦¨æ–§æŠ–æ€¡èµ¤é€¢æ‚ è·Œæ¹§è¢è·ªè¸ç›§ç’§å˜©é–è ¶ç¹«æ—¨å‡¶ä½”é€†æ‹“æ€¨æŸ¯æŒºä½‘å¯‚æ·‹é€›è²æˆªèª‡è½Ÿç‘œå¢³æ«ƒç±Œç„é¯Šé¡è€ç ‚æ‚”å–ƒçºå©¿æ†‚è‰±éŠè³œé¡±å…‡å®…æŠ¼æ³›æŒ¨é…·å…¼è±è“å¯©è„å˜°è³Šé´¿å­µå„²ç¾¨æƒ°ç£è‘¡è‘›å©·ç„æœ­æ‰¯å¸•è²ªè±šæ£§è¨»è…ºé‚ç‘å‰ä¼å­å·å“ç«çƒ¤åŒ™é‹ªç›ªæªæ¸´å«©æ ªå»‰ä¹èˆŸæ±ªå©éŸ‹ç´‚éœå®µé‡£å–šèœ˜å“¼æ“¬é†œé©•è—»å›Šæ˜Œç•œæ³£è»ŒèŠ­é‚±å¦¨å‚é–”æ¤ç‘°æ“…éå¯µæ†¤å¬°è¬€åš·ç½·é©…é‘¿æ°æ‰£ä»—å¾å®¿ç‰¡æ˜­æµ©æ³°æšæ»‹æ¼²æ¼å™¹å¬Œé­‚ç­è¤é¼éœœå¶ºéš™é—–è—ºæ•å¿Œæµ´ç´—è£™ç å‚¢æ…ç¶œçµƒç¢Œæ‘”æ¦œæ½¤é£æ¿«ç°½é©Ÿè‡˜çº–æ­¹è¶´è±¹å¨¶é£¢é™µæ˜ç˜‹ç¦çšºç‡¥ç‡¦è´æ‰”æ€–èƒšæ¶‰ç´æ™å´–æ·ç¦±å£¹è±”ç‘šæ½­é —ç¨¿å¬¸è‰˜é‘‘é±—å¯“ç¶ºåŒˆå²¡å±å¼§è¾°å½·æ°›æ²¸æ­ªå··å§ªæ¨¸è¢èƒæ™’çŠ§å–‡ç¶»å»–å¢ŠéŠ·é„§å‡†å•¼æ­ä¹äº¨æ‹‹èŠé™Œå•è„†æ¢³å®°ç—‡é¨«æ·˜è˜Šæ§å«Œé£¼è£•è¸©å¢¾é¾è¬¹æ¶µæå¦¥æ˜‡æ²¼ä¿ å½¥è€˜å”¸ç§¤å»Šå–‰æ„§é–£è”—è²³è³­åƒ•è”¬ç¦½æ¿•ç†„è–ªèª¼é‘„æº‰ç†”é¦³æ’«è”£å«‚ä»²å½¿å¥ˆä½µæŠ«å¼èœ´äº­æ“‹è¡°è‚æ…¨çª¯è¦“å™¢è‘¬ç¦§å…¢è™§æµ¸ç½²å˜ç´¡æ¢­è­¬è»€æ‹†å»ç•ç‚’è¶ŸæŒ«åŠˆå¿ç·»é€è³æ©é‹¸æ´å„¡ç½©ç¤«åªšé–è‘«æ ½å‚€æ”œè½åˆ‘å©æ˜‚å’’å˜²æ‹’è¸çœ¨ç£šæƒ‘ç€‘æ¯¯è–‡ç·’é¤µæ’ˆé¹¼æ™‰æ»²æ’•ç›¾çµ®æ‡¼éœ¸ç“£é‘¼æ±¡è¿…è„¾è¨ºçš‚ç…‰éƒèˆœæŸ„æ£Ÿå‡Œé›¯å½—éˆ”åŸé¼æ´¥å–˜è„¹å†¶å‹ƒç¢‘æ¾„å„’ç·¯æ¯…è–¯è´ˆè•©è¹„æ¿±é¶¯æ¾¡é¥’åš¼é©¢åŠ£å±¯å‘å¨ŸåŠæ¡‘å”®ç§§å“„å‡‹å•ªå»å´©æ æ£ç³ç„°è•Šå—¡åš•è›¾é¯¨é Œè »èª“æ”€è¬ é·ºæ‘ºæ‡ˆæ“²æšˆå¯åŠ­å­•ä¸æŠ„æ²ƒè‚–è³ˆé‚ªé–æ¡†é•å””é§èº¬å™ªè¢–è•¾èœ“è¹²çª„æˆšå¡Œèµ´è¾±éµ‘è‡æ¬ å‡¹å¯¸æ‰æ¯€å—…æ²¾è‚†æ´½å½°ç§Ÿç‘©å‰–".split(""));

const BANK = {"G1": [{"word": "å¤§", "clueWordFull": "å¤§äºº", "clueSentenceFull": "å¤§äººæœƒæé†’æˆ‘å€‘æ³¨æ„å®‰å…¨ã€‚", "note": "ä¸€æ’‡ä¸€æºé–‹å±•ï¼Œæ©«ç•«åˆ¥å¤ªé•·ã€‚"}, {"word": "å°", "clueWordFull": "å°å¿ƒ", "clueSentenceFull": "èµ°æ¨“æ¢¯è¦å°å¿ƒï¼Œä¸è¦æ¨æ“ ã€‚", "note": "ä¸‰é»ä½ç½®åˆ†é–‹ï¼Œä¸è¦æ“ æˆä¸€åœ˜ã€‚"}, {"word": "ä¸Š", "clueWordFull": "ä¸Šé¢", "clueSentenceFull": "ä¸Šé¢é‚£ä¸€è¡Œè¦å¯«æ•´é½Šã€‚", "note": "æ©«ç•«å¹³ï¼Œè±è¦ç›´ã€‚"}, {"word": "ä¸‹", "clueWordFull": "ä¸‹é¢", "clueSentenceFull": "ä¸‹é¢é€™ä¸€æ ¼è«‹ä½ å¯«åå­—ã€‚", "note": "è±ç•«ç›´ï¼Œæœ«ç­†æ”¶ä¹¾æ·¨ã€‚"}, {"word": "ä¸­", "clueWordFull": "ä¸­é–“", "clueSentenceFull": "ä¸­é–“é‚£æ¢ç·šè¦ç•«ç›´ã€‚", "note": "å¤–æ¡†æ–¹æ­£ï¼Œä¸­è±ç½®ä¸­ã€‚"}, {"word": "å¤©", "clueWordFull": "å¤©ç©º", "clueSentenceFull": "å¤©ç©ºè®Šæš—æ™‚å¯èƒ½è¦ä¸‹é›¨ã€‚", "note": "ä¸Šæ©«å¹³ï¼Œæ’‡æºè§’åº¦æ¸…æ¥šã€‚"}, {"word": "å¥³", "clueWordFull": "å¥³ç”Ÿ", "clueSentenceFull": "å¥³ç”Ÿå’Œç”·ç”Ÿéƒ½è¦äº’ç›¸å°Šé‡ã€‚", "note": "ä¸‰ç­†åˆ†æ˜ï¼Œæ”¶ç­†ä¸æ•£ã€‚"}, {"word": "å­", "clueWordFull": "å­©å­", "clueSentenceFull": "å­©å­è¦å­¸æœƒè‡ªå·±æ•´ç†æ›¸åŒ…ã€‚", "note": "æ©«ç•«å¹³ï¼Œå½é‰¤ç©©ã€‚"}, {"word": "å®¶", "clueWordFull": "å®¶äºº", "clueSentenceFull": "å®¶äººä¸€èµ·åƒé£¯å¾ˆæº«æš–ã€‚", "note": "å®€ä¸å£“ï¼Œä¸‹é¢è¦ç•™ç©ºã€‚"}, {"word": "å­¸", "clueWordFull": "å­¸æ ¡", "clueSentenceFull": "å­¸æ ¡è£¡è¦éµå®ˆç§©åºã€‚", "note": "ä¸Šéƒ¨åˆ¥æ“ ï¼Œä¸‹éƒ¨è¦ç©©ã€‚"}], "G2": [{"word": "å‹", "clueWordFull": "æœ‹å‹", "clueSentenceFull": "æœ‹å‹ä¹‹é–“è¦äº’ç›¸å¹«å¿™ã€‚", "note": "æ’‡æºé–‹å±•ï¼Œæ”¶ç­†ä¹¾æ·¨ã€‚"}, {"word": "å•", "clueWordFull": "å•é¡Œ", "clueSentenceFull": "å•é¡Œçœ‹æ‡‚å¾Œå†å›ç­”ã€‚", "note": "é–€æ¡†ç­‰è·ï¼Œå£ç½®ä¸­ã€‚"}, {"word": "çœŸ", "clueWordFull": "çœŸçš„", "clueSentenceFull": "æˆ‘çœŸçš„å¾ˆæƒ³æŠŠå­—å¯«å¥½ã€‚", "note": "ä¸Šéƒ¨ä¸æ•£ï¼Œä¸‹éƒ¨æ©«ç•«è¦å¹³ã€‚"}, {"word": "å®š", "clueWordFull": "ä¸€å®š", "clueSentenceFull": "æˆ‘ä¸€å®šæœƒæº–æ™‚äº¤ä½œæ¥­ã€‚", "note": "å®€ç©©ï¼Œä¸‹éƒ¨ä¸æ­ªã€‚"}, {"word": "å…ˆ", "clueWordFull": "å…ˆå¾Œ", "clueSentenceFull": "åšäº‹è¦åˆ†æ¸…å…ˆå¾Œé †åºã€‚", "note": "ä¸Šéƒ¨çŸ­ï¼Œä¸‹éƒ¨é•·ï¼Œé‡å¿ƒç©©ã€‚"}, {"word": "å†", "clueWordFull": "å†ä¾†", "clueSentenceFull": "å†ä¾†è«‹ä½ æŠŠç­†æ”¾å›ç­†è¢‹ã€‚", "note": "æ©«ç•«ç­‰è·ï¼Œæœ€å¾Œä¸€ç­†æ”¶å¥½ã€‚"}, {"word": "å¤š", "clueWordFull": "å¤šå°‘", "clueSentenceFull": "ä½ æƒ³è¦å¤šå°‘å¼µè²¼ç´™ï¼Ÿ", "note": "ä¸Šéƒ¨ä¸æ“ ï¼Œä¸‹éƒ¨æ’‡æºé–‹ã€‚"}, {"word": "å°‘", "clueWordFull": "å¤šå°‘", "clueSentenceFull": "ä»Šå¤©ä½œæ¥­ä¸å¤šä¹Ÿä¸å°‘ã€‚", "note": "å°é»åˆ†é–‹ï¼Œæ’‡è¦æœ‰è§’åº¦ã€‚"}, {"word": "å¥½", "clueWordFull": "å¥½å¥½", "clueSentenceFull": "è«‹ä½ æŠŠå­—å¥½å¥½å¯«å®Œã€‚", "note": "å¥³æ—é å·¦ï¼Œå­æ—ä¸å£“ã€‚"}, {"word": "æ–°", "clueWordFull": "æ–°è", "clueSentenceFull": "æ–°èæé†’å¤§å®¶æ³¨æ„å¤©æ°£ã€‚", "note": "å·¦éƒ¨ç›´ï¼Œå³éƒ¨æ–¤è¦æŒºã€‚"}], "G3": [{"word": "ç†", "clueWordFull": "ç†ç”±", "clueSentenceFull": "èªªæ˜æ™‚è¦è¬›å‡ºç†ç”±ã€‚", "note": "ç‹æ—ç›´ï¼Œé‡Œéƒ¨æ–¹æ­£ã€‚"}, {"word": "ç”±", "clueWordFull": "è‡ªç”±", "clueSentenceFull": "è‡ªç”±ä¸æ˜¯æƒ³åšä»€éº¼å°±åšä»€éº¼ã€‚", "note": "ä¸­ç·šç›´ï¼Œå…§éƒ¨ç•™ç™½ã€‚"}, {"word": "è¨˜", "clueWordFull": "è¨˜éŒ„", "clueSentenceFull": "è¨˜éŒ„è¦å¯«æ¸…æ¥šæ—¥æœŸã€‚", "note": "è¨€æ—æ”¶æ–‚ï¼Œå·±éƒ¨ä¸æ­ªã€‚"}, {"word": "ç•«", "clueWordFull": "åœ–ç•«", "clueSentenceFull": "åœ–ç•«è¦å…ˆæ‰“è‰ç¨¿å†ä¸Šè‰²ã€‚", "note": "ç”°éƒ¨æ–¹ï¼Œå¤–æ¡†ä¸æ­ªã€‚"}, {"word": "è±¡", "clueWordFull": "æƒ³åƒ", "clueSentenceFull": "æƒ³åƒä¸€ä¸‹å±±ä¸Šçš„é¢¨æ™¯ã€‚", "note": "ä¸Šéƒ¨ä¸äº‚ï¼Œæœ«ç­†æ”¶ä¹¾æ·¨ã€‚"}, {"word": "æ¸…", "clueWordFull": "æ¸…æ¥š", "clueSentenceFull": "æŠŠé‡é»å¯«æ¸…æ¥šå†äº¤ã€‚", "note": "æ°µåˆ†é–‹ï¼Œå³éƒ¨ç•™ç™½ã€‚"}, {"word": "ä¿", "clueWordFull": "ä¿è­·", "clueSentenceFull": "ä¿è­·çœ¼ç›è¦çœ‹é æ”¾é¬†ã€‚", "note": "äº»ç›´ï¼Œå‘†éƒ¨è¦ç©©ã€‚"}, {"word": "è¼ƒ", "clueWordFull": "æ¯”è¼ƒ", "clueSentenceFull": "æ¯”è¼ƒå…©å€‹ä¾‹å­å¯ä»¥æ‰¾å‡ºå·®ç•°ã€‚", "note": "å·¦å³åˆ¥æ“ ï¼Œæ©«ç•«å¹³ã€‚"}, {"word": "åœ’", "clueWordFull": "å…¬åœ’", "clueSentenceFull": "å…¬åœ’è£¡æœ‰å¾ˆå¤šæ¨¹å’ŒèŠ±ã€‚", "note": "å¤–æ¡†æ–¹ï¼Œå…§éƒ¨è¦ç½®ä¸­ã€‚"}, {"word": "æ¨£", "clueWordFull": "ä¸€æ¨£", "clueSentenceFull": "æˆ‘å€‘çš„ç­”æ¡ˆä¸ä¸€å®šä¸€æ¨£ã€‚", "note": "æœ¨æ—ç›´ï¼Œå³éƒ¨å±¤æ¬¡æ¸…æ¥šã€‚"}], "G4": [{"word": "è³‡", "clueWordFull": "è³‡æº", "clueSentenceFull": "è³‡æºæœ‰é™ï¼Œæ‰€ä»¥è¦ç¯€çœä½¿ç”¨ã€‚", "note": "æ¬¡éƒ¨æ¸…æ¥šï¼Œè²éƒ¨ç©©ã€‚"}, {"word": "æº", "clueWordFull": "è³‡æº", "clueSentenceFull": "è³‡æºåˆ†é…è¦å…¬å¹³ã€‚", "note": "æ°µåˆ†é–‹ï¼ŒåŸéƒ¨ä¸æ“ ã€‚"}, {"word": "å¢ƒ", "clueWordFull": "ç’°å¢ƒ", "clueSentenceFull": "ç’°å¢ƒæ•´æ½”ï¼Œå¿ƒæƒ…ä¹Ÿæœƒæ›´å¥½ã€‚", "note": "åœŸæ—ç©©ï¼Œå³éƒ¨ç•™ç™½ã€‚"}, {"word": "è§€", "clueWordFull": "è§€å¯Ÿ", "clueSentenceFull": "è§€å¯Ÿæ™‚è¦å…ˆæ‰¾å‡ºç´°ç¯€ã€‚", "note": "è¦‹éƒ¨ç©©ï¼Œä¸Šéƒ¨ä¸äº‚ã€‚"}, {"word": "èª¿", "clueWordFull": "èª¿æ•´", "clueSentenceFull": "èª¿æ•´åº§ä½å¾Œï¼Œå¤§å®¶æ›´å¥½è¨è«–ã€‚", "note": "è¨€æ—æ”¶æ–‚ï¼Œå‘¨éƒ¨æ–¹æ­£ã€‚"}, {"word": "è§£", "clueWordFull": "äº†è§£", "clueSentenceFull": "äº†è§£è¦å‰‡å¾Œå†é–‹å§‹éŠæˆ²ã€‚", "note": "è§’éƒ¨æ¸…æ¥šï¼Œåˆ€è¦ç›´ã€‚"}, {"word": "è¾¦", "clueWordFull": "è¾¦æ³•", "clueSentenceFull": "æˆ‘å€‘ä¸€èµ·æƒ³ä¸€å€‹è¾¦æ³•è§£æ±ºã€‚", "note": "ä¸­è±è¦ç›´ï¼Œå·¦å³å¹³è¡¡ã€‚"}, {"word": "æ¨", "clueWordFull": "æ¨æƒ³", "clueSentenceFull": "æ¨æƒ³åŸå› æ™‚è¦èªªå‡ºä¾æ“šã€‚", "note": "æ‰Œç›´ï¼Œéš¹éƒ¨ç«™ç©©ã€‚"}, {"word": "è­‰", "clueWordFull": "è­‰æ“š", "clueSentenceFull": "è­‰æ“šè¶Šæ¸…æ¥šï¼Œçµè«–è¶Šå¯é ã€‚", "note": "è¨€æ—ä¸å¯¬ï¼Œæ­£éƒ¨ç›´ã€‚"}, {"word": "çµ", "clueWordFull": "çµè«–", "clueSentenceFull": "çµè«–è¦ç”¨ä¸€å¥è©±èªªæ¸…æ¥šã€‚", "note": "ç³¸æ—æ”¶æ–‚ï¼Œå£è¦æ–¹ã€‚"}], "G5": [{"word": "è«–", "clueWordFull": "è¨è«–", "clueSentenceFull": "è¨è«–æ™‚è¦è¼ªæµç™¼è¨€ã€‚", "note": "è¨€æ—æ”¶æ–‚ï¼Œä¾–éƒ¨æ¸…æ¥šã€‚"}, {"word": "æ“š", "clueWordFull": "æ ¹æ“š", "clueSentenceFull": "æ ¹æ“šè³‡æ–™ï¼Œæˆ‘å€‘å¯ä»¥æ¨æƒ³çµæœã€‚", "note": "æ‰Œç›´ï¼Œå³éƒ¨è¤‡é›œç•™ç™½ã€‚"}, {"word": "è¦", "clueWordFull": "è¦å‰‡", "clueSentenceFull": "è¦å‰‡å…ˆè¬›æ¸…æ¥šï¼Œæ‰ä¸æœƒåµæ¶ã€‚", "note": "è¦‹éƒ¨ç©©ï¼Œå·¦éƒ¨ä¸æ­ªã€‚"}, {"word": "ç¨‹", "clueWordFull": "éç¨‹", "clueSentenceFull": "éç¨‹è¦è¨˜ä¸‹é—œéµæ­¥é©Ÿã€‚", "note": "ç¦¾æ—ç›´ï¼Œå‘ˆå£æ–¹æ­£ã€‚"}, {"word": "çºŒ", "clueWordFull": "æŒçºŒ", "clueSentenceFull": "æŒçºŒç·´ç¿’ï¼Œå­—æœƒè¶Šå¯«è¶Šå¥½ã€‚", "note": "ç³¸æ—æ”¶æ–‚ï¼Œå³å´åˆ†å±¤ã€‚"}, {"word": "å½±", "clueWordFull": "å½±éŸ¿", "clueSentenceFull": "é€™å€‹é¸æ“‡æœƒå½±éŸ¿çµæœã€‚", "note": "æ™¯éƒ¨ç©©ï¼Œå½¡ä¸äº‚ã€‚"}, {"word": "éŸ¿", "clueWordFull": "å½±éŸ¿", "clueSentenceFull": "å°å°æ”¹è®Šä¹Ÿæœƒå½±éŸ¿è¡¨ç¾ã€‚", "note": "é„‰éƒ¨åˆ¥äº‚ï¼Œå£æ–¹æ­£ã€‚"}, {"word": "åƒ", "clueWordFull": "åƒè€ƒ", "clueSentenceFull": "åƒè€ƒåˆ¥äººçš„æ–¹æ³•å†æ”¹é€²ã€‚", "note": "ä¸Šéƒ¨ä¸æ“ ï¼Œä¸‹éƒ¨åˆ†æ˜ã€‚"}, {"word": "æº–", "clueWordFull": "æº–å‚™", "clueSentenceFull": "æº–å‚™å¥½ææ–™å†é–‹å§‹å¯¦ä½œã€‚", "note": "éš¹éƒ¨ç«™ç©©ï¼Œæ°µåˆ¥æ“ ã€‚"}, {"word": "è½‰", "clueWordFull": "è½‰æ›", "clueSentenceFull": "è½‰æ›æƒ³æ³•å¾Œï¼Œæˆ‘æ‡‚äº†ï¼", "note": "è»Šæ—ç©©ï¼Œå°ˆéƒ¨åˆ¥æ“ ã€‚"}], "G6": [{"word": "ç­–", "clueWordFull": "ç­–ç•¥", "clueSentenceFull": "ç­–ç•¥ä¸åŒï¼Œçµæœä¹Ÿå¯èƒ½ä¸åŒã€‚", "note": "ç«¹é ­å°é½Šï¼Œä¸­éƒ¨åˆ¥äº‚ã€‚"}, {"word": "åˆ¤", "clueWordFull": "åˆ¤æ–·", "clueSentenceFull": "åˆ¤æ–·æ™‚è¦çœ‹æ¸…æ¥šè³‡æ–™ã€‚", "note": "åˆ‚æ—ç›´ï¼Œå·¦éƒ¨ä¸é»ã€‚"}, {"word": "æ–·", "clueWordFull": "åˆ¤æ–·", "clueSentenceFull": "åˆ¤æ–·å®Œæˆå¾Œè¦èªªå‡ºç†ç”±ã€‚", "note": "æ–¤éƒ¨è¦ç›´ï¼Œå·¦å³åˆ¥æ“ ã€‚"}, {"word": "çµ±", "clueWordFull": "çµ±æ•´", "clueSentenceFull": "çµ±æ•´é‡é»å¯ä»¥å¹«åŠ©è¨˜æ†¶ã€‚", "note": "ç³¸æ—æ”¶æ–‚ï¼Œå³éƒ¨æ¸…æ¥šã€‚"}, {"word": "è²¬", "clueWordFull": "è²¬ä»»", "clueSentenceFull": "è²¬ä»»è¦è‡ªå·±æ‰›èµ·ä¾†ã€‚", "note": "ä¸Šéƒ¨åˆ¥æ“ ï¼Œä¸‹è²ç©©ã€‚"}, {"word": "ä»»", "clueWordFull": "è²¬ä»»", "clueSentenceFull": "è²¬ä»»åˆ†å·¥å¾Œï¼Œæ•ˆç‡æ›´é«˜ã€‚", "note": "äº»æ—ç›´ï¼Œå£¬éƒ¨ç«™ç©©ã€‚"}, {"word": "é©—", "clueWordFull": "å¯¦é©—", "clueSentenceFull": "å¯¦é©—å‰è¦å…ˆç¢ºèªå®‰å…¨ã€‚", "note": "é¦¬æ—åˆ¥æ“ ï¼Œå³éƒ¨å¹³è¡Œã€‚"}, {"word": "éš¨", "clueWordFull": "éš¨æ™‚", "clueSentenceFull": "é‡åˆ°å•é¡Œè¦éš¨æ™‚æå•ã€‚", "note": "é˜æ—ç›´ï¼Œå³éƒ¨å±¤æ¬¡åˆ†æ˜ã€‚"}, {"word": "ç¢º", "clueWordFull": "ç¢ºå®š", "clueSentenceFull": "ç¢ºå®šç­”æ¡ˆå¾Œå†å¯«é€²æ ¼å­ã€‚", "note": "çŸ³æ—ç©©ï¼Œå³éƒ¨ä¸æ“ ã€‚"}, {"word": "ç°¡", "clueWordFull": "ç°¡å–®", "clueSentenceFull": "æŠŠæƒ³æ³•ç”¨ç°¡å–®çš„è©±èªªæ˜ã€‚", "note": "ç«¹é ­å°é½Šï¼Œé–“éƒ¨æ–¹æ­£ã€‚"}]};

function maskAnswer(text, ans){
  return String(text).split(ans).join("ï¼¿ï¼¿ï¼¿");
}
function getPool(grade){
  let items=[];
  if(grade==="ALL"){
    for(const k of Object.keys(BANK)) items = items.concat(BANK[k]);
  }else{
    items = (BANK[grade]||[]);
  }
  items = items.filter(it => ALLOWED_FREQ_1_2500.has(it.word));
  return items;
}
function shuffle(arr){
  for(let i=arr.length-1;i>0;i--){
    const j=Math.floor(Math.random()*(i+1));
    [arr[i],arr[j]]=[arr[j],arr[i]];
  }
  return arr;
}

let exam = null;
const LS_KEY="stroke_exam_records_v5_freq2500";

function loadRecords(){
  try{ return JSON.parse(localStorage.getItem(LS_KEY)||"[]"); }catch(e){ return []; }
}
function saveRecords(rows){
  localStorage.setItem(LS_KEY, JSON.stringify(rows));
}
function renderTeacherBox(){
  const rows=loadRecords();
  const box=document.getElementById("teacherBox");
  if(!rows.length){ box.textContent="å°šç„¡ç´€éŒ„"; return; }
  const last=rows[rows.length-1];
  const verdict = (last.isCorrect===true) ? "æ­£ç¢º" : (last.isCorrect===false ? "å¾…æ³¨æ„" : "å¾…åˆ¤è®€");
  const cls = (last.isCorrect===true) ? "ok" : (last.isCorrect===false ? "bad" : "");
  box.innerHTML = `
    <div>ç›®å‰å…±æœ‰ <b>${rows.length}</b> ç­†ç´€éŒ„ï¼ˆå„²å­˜åœ¨é€™å°é›»è…¦/å¹³æ¿çš„ç€è¦½å™¨ï¼‰</div>
    <div class="muted">æœ€æ–°ä¸€ç­†ï¼š${new Date(last.ts).toLocaleString()}ï½œ${last.name||"ï¼ˆæœªå¡«å§“åï¼‰"}ï½œ${last.grade}ï½œé¡Œç›®å­—ï¼š<b>${last.word}</b>ï½œåˆ¤å®šï¼š<b class="${cls}">${verdict}</b></div>
    <div class="muted">å»ºè­°ï¼šæœ¬ç‰ˆå…ˆå­˜ã€Œç­†è·¡åœ– + æ­£ç¢ºå­—ã€ä¾›è€å¸«äººå·¥ç¢ºèªï¼›éœ€è¦ AI åˆ¤å®šå†åŠ æ¨¡çµ„ã€‚</div>
  `;
}
function downloadCSV(){
  const rows=loadRecords();
  if(!rows.length){ alert("ç›®å‰æ²’æœ‰ç´€éŒ„å¯ä¸‹è¼‰"); return; }
  const header=["ts","name","grade","word","clueWordMasked","clueSentenceMasked","isCorrect","confidence","note","pngDataUrl"];
  const lines=[header.join(",")];
  for(const r of rows){
    const line = header.map(k=>{
      let v = (r[k]??"");
      v = String(v).replace(/\n/g," ").replace(/"/g,'""');
      return `"${v}"`;
    }).join(",");
    lines.push(line);
  }
  const blob=new Blob([lines.join("\n")], {type:"text/csv;charset=utf-8"});
  const url=URL.createObjectURL(blob);
  const a=document.createElement("a");
  a.href=url;
  a.download="stroke_exam_records_freq1-2500.csv";
  document.body.appendChild(a);
  a.click();
  a.remove();
  URL.revokeObjectURL(url);
}
function speak(text){
  if(!("speechSynthesis" in window)){ alert("æ­¤è£ç½®ä¸æ”¯æ´èªéŸ³æœ—è®€"); return; }
  const u=new SpeechSynthesisUtterance(text);
  u.lang="zh-TW";
  speechSynthesis.cancel();
  speechSynthesis.speak(u);
}

// Canvas
const canvas=document.getElementById("canvas");
const ctx=canvas.getContext("2d");
ctx.lineWidth=10;
ctx.lineCap="round";
let drawing=false;
let last=null;

function getPos(e){
  const r=canvas.getBoundingClientRect();
  const p = (e.touches && e.touches[0]) ? e.touches[0] : e;
  return {x: (p.clientX - r.left) * (canvas.width / r.width),
          y: (p.clientY - r.top) * (canvas.height / r.height)};
}
function startDraw(e){ drawing=true; last=getPos(e); e.preventDefault(); }
function moveDraw(e){
  if(!drawing) return;
  const pos=getPos(e);
  ctx.beginPath();
  ctx.moveTo(last.x,last.y);
  ctx.lineTo(pos.x,pos.y);
  ctx.stroke();
  last=pos;
  e.preventDefault();
}
function endDraw(e){ drawing=false; last=null; e.preventDefault(); }
function clearCanvas(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  ctx.save();
  ctx.globalAlpha=0.18;
  ctx.lineWidth=2;
  ctx.beginPath();
  ctx.moveTo(canvas.width/2,0); ctx.lineTo(canvas.width/2,canvas.height);
  ctx.moveTo(0,canvas.height/2); ctx.lineTo(canvas.width,canvas.height/2);
  ctx.moveTo(0,0); ctx.lineTo(canvas.width,canvas.height);
  ctx.moveTo(canvas.width,0); ctx.lineTo(0,canvas.height);
  ctx.stroke();
  ctx.restore();
}
clearCanvas();

canvas.addEventListener("mousedown", startDraw);
canvas.addEventListener("mousemove", moveDraw);
canvas.addEventListener("mouseup", endDraw);
canvas.addEventListener("mouseleave", endDraw);
canvas.addEventListener("touchstart", startDraw, {passive:false});
canvas.addEventListener("touchmove", moveDraw, {passive:false});
canvas.addEventListener("touchend", endDraw, {passive:false});

// Exam flow
function showQuestion(){
  const it=exam.items[exam.idx];
  document.getElementById("qIndex").textContent = String(exam.idx+1);
  document.getElementById("qTotal").textContent = String(exam.items.length);

  document.getElementById("clueWord").textContent = maskAnswer(it.clueWordFull, it.word);
  document.getElementById("clueSentence").textContent = maskAnswer(it.clueSentenceFull, it.word);
  document.getElementById("feedback").textContent="";
  clearCanvas();
}
function startExam(){
  const name=document.getElementById("studentName").value.trim();
  const grade=document.getElementById("gradeSel").value;
  const count=parseInt(document.getElementById("countSel").value,10);

  const pool=getPool(grade);
  if(pool.length < count){
    alert(`é¡Œåº«ä¸è¶³ï¼šç›®å‰å¯ç”¨ ${pool.length} é¡Œï¼ˆå·²å¥—ç”¨å­—é »1â€“2500é™åˆ¶ï¼‰ã€‚\nè«‹æ”¹æˆã€Œå…¨éƒ¨æ··åˆã€æˆ–é™ä½é¡Œæ•¸ã€‚`);
    return;
  }
  exam={name, grade, items: shuffle(pool.slice()).slice(0,count), idx:0, startedAt: Date.now()};
  document.getElementById("statusLine").textContent = `é€²è¡Œä¸­ï¼š${grade}ï½œ${count}é¡Œ`;
  showQuestion();
}
function canvasToDataURL(){ return canvas.toDataURL("image/png"); }

/** ç°¡åŒ–åˆ¤å®šï¼šæœ¬ç‰ˆä¸åš AI å­—å½¢è¾¨è­˜ï¼Œå­˜ç­†è·¡åœ–çµ¦è€å¸«çœ‹ */
function simpleJudge(){ return {isCorrect:null, confidence:0.0}; }

function submitAnswer(){
  if(!exam) return;
  const it=exam.items[exam.idx];
  const png=canvasToDataURL();
  const judge=simpleJudge();

  const rows=loadRecords();
  rows.push({
    ts: Date.now(),
    name: exam.name,
    grade: exam.grade,
    word: it.word,
    clueWordMasked: maskAnswer(it.clueWordFull, it.word),
    clueSentenceMasked: maskAnswer(it.clueSentenceFull, it.word),
    isCorrect: judge.isCorrect,
    confidence: judge.confidence,
    note: it.note||"",
    pngDataUrl: png
  });
  saveRecords(rows);
  renderTeacherBox();

  document.getElementById("feedback").textContent = "å·²é€å‡ºï¼ˆè€å¸«ç«¯å¯ä¸‹è¼‰ CSVï¼Œä¸¦ç”¨ç­†è·¡åœ–åˆ¤è®€ï¼‰";

  exam.idx += 1;
  if(exam.idx >= exam.items.length){
    document.getElementById("statusLine").textContent = "å®Œæˆï¼ä½ å·²åšå®Œæœ¬æ¬¡æ¸¬é©—ã€‚";
    alert("å®Œæˆï¼è¬è¬ä½ ã€‚");
    exam=null;
    document.getElementById("qIndex").textContent="0";
    document.getElementById("qTotal").textContent="0";
    document.getElementById("clueWord").textContent="";
    document.getElementById("clueSentence").textContent="";
    clearCanvas();
    return;
  }
  showQuestion();
}

document.getElementById("startBtn").addEventListener("click", startExam);
document.getElementById("resetCanvasBtn").addEventListener("click", clearCanvas);
document.getElementById("submitBtn").addEventListener("click", submitAnswer);
document.getElementById("downloadBtn").addEventListener("click", downloadCSV);


function speakSentenceMasked(sentenceMasked, rate=1){
  const u=new SpeechSynthesisUtterance(sentenceMasked);
  u.lang="zh-TW";
  u.rate=rate;
  speechSynthesis.cancel();
  speechSynthesis.speak(u);
}

function speakWord(word, rate=1){
  const u=new SpeechSynthesisUtterance(word);
  u.lang="zh-TW";
  u.rate=rate;
  speechSynthesis.cancel();
  speechSynthesis.speak(u);
}
document.getElementById("speakBtn").addEventListener("click", ()=>{
  if(!exam) return;
  const it = exam.items[exam.idx];
  // å¿µã€Œèªè©ç·šç´¢ã€ï¼šå®Œæ•´èªè©ï¼ˆå«é¡Œç›®å­—ï¼‰ï¼Œç•«é¢ä»æŒ–ç©º
  speakText(it.clueWordFull, 1.0);
});
document.getElementById("clearBtn").addEventListener("click", ()=>{
  if(confirm("ç¢ºå®šæ¸…é™¤æœ¬æ©Ÿç´€éŒ„ï¼Ÿï¼ˆä¸å¯å¾©åŸï¼‰")){
    localStorage.removeItem(LS_KEY);
    renderTeacherBox();
    alert("å·²æ¸…é™¤");
  }
});

renderTeacherBox();

document.addEventListener('DOMContentLoaded', ()=>{
  const btn = document.getElementById('speakSentenceBtn');
  if(btn){
    btn.addEventListener('click', ()=>{
      if(!exam) return;
      const it = exam.items[exam.idx];
      const masked = maskAnswer(it.clueSentenceFull, it.word);
      speakText(masked, 0.95);
    });
  }
});


document.getElementById("speakTargetBtn").addEventListener("click", ()=>{
  if(!exam) return;
  const it = exam.items[exam.idx];
  // å¿µã€Œé¡Œç›®å­—ã€ï¼šåªå¿µé¡Œç›®å­—
  speakText(it.word, 1.0);
});
document.getElementById("speakSentenceBtn").addEventListener("click", ()=>{
  if(!exam) return;
  const it = exam.items[exam.idx];
  // å¿µã€Œé€ å¥ç·šç´¢ã€ï¼šå…ˆå¿µé¡Œç›®å­—ï¼Œå†å¿µå®Œæ•´é€ å¥ï¼ˆç¢ºä¿æŒ–ç©ºçš„å­—ä¹Ÿæœƒè¢«å”¸å‡ºï¼‰
  speakText(it.word + 'ã€‚' + it.clueSentenceFull, 0.95);
});
</script>
</body>
</html>
